<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get Salmon metadata and aux info into a data.frame — get_salmon_meta • platjam</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get Salmon metadata and aux info into a data.frame — get_salmon_meta"><meta property="og:description" content="Get Salmon metadata and aux info into a data.frame"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">platjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.73.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/platjam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Salmon metadata and aux info into a data.frame</h1>
    <small class="dont-index">Source: <a href="http://github.com/jmw86069/platjam/blob/HEAD/R/platjam-ngs.R" class="external-link"><code>R/platjam-ngs.R</code></a></small>
    <div class="hidden name"><code>get_salmon_meta.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get Salmon metadata and aux info into a data.frame</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_salmon_meta</span><span class="op">(</span><span class="va">metafile</span>, exclude_hashes <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>metafile</dt>
<dd><p>character vector of one or more files, usually the
full file path to the <code>meta_info.json</code> file after running Salmon
quant. The path <code>metafile</code> should be the path to any output file
from one Salmon quant analysis.</p></dd>


<dt>exclude_hashes</dt>
<dd><p>logical indicating whether to drop columns that
contain file hashes.</p></dd>


<dt>...</dt>
<dd><p>additional arguments are ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>data.frame</code> whose number of rows is equal to the number
of unique Salmon root directories in the input <code>metafile</code>.
For any input <code>metafile</code> not found, the output is <code>NULL</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function takes a file path to one or more Salmon
output files, uses that path to locate the full set of
available files, loads data from each of the discovered
files, and returns the results in a <code>data.frame</code> format.</p>
<p>This function uses <code><a href="https://rprojroot.r-lib.org/reference/find_root.html" class="external-link">rprojroot::find_root()</a></code> to find the
root directory, defined as the directory that contains
the file <code>"cmd_info.json"</code>. The path to <code>"meta_info.json"</code>
is constructed relative to that location.</p>
<p>Recognized files:</p><ul><li><p><code>meta_info.json</code> - typically in a subdirectory <code>aux_info/meta_info.json</code></p></li>
<li><p><code>cmd_info.json</code> - typically in the same directory as the <code>aux_info</code>
directory.</p></li>
</ul><p>If a relative path to <code>"cmd_info.json"</code> cannot be determined, this
function returns <code>NULL</code>.</p>
<p>When the input <code>metafile</code> includes multiple files, only
the unique Salmon root directories are returned.</p>
<p>This function uses <code>jsonlite</code> to read each JSON file, which
is converted to a <code>data.frame</code>. Any JSON fields that contain
multiple values are comma-delimited using <code><a href="https://rdrr.io/pkg/jamba/man/cPaste.html" class="external-link">jamba::cPaste()</a></code>
in order to fit on one row in the <code>data.frame</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other jam nextgen sequence functions: 
<code><a href="get_salmon_root.html">get_salmon_root</a>()</code>,
<code><a href="parse_salmon_flenfile.html">parse_salmon_flenfile</a>()</code>,
<code><a href="save_salmon_qc_xlsx.html">save_salmon_qc_xlsx</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">cmdinfopath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"salmonOut"</span>, <span class="st">"cmd_info.json"</span>, package<span class="op">=</span><span class="st">"platjam"</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">cmdinfopath</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="fu">get_salmon_meta</span><span class="op">(</span><span class="va">cmdinfopath</span><span class="op">)</span>;</span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   salmon_version samp_type opt_type num_libraries library_types</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0.11.2      none       vb             1           ISR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   frag_dist_length seq_bias_correct gc_bias_correct num_bias_bins mapping_type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1001             TRUE            TRUE          4096      mapping</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num_targets serialized_eq_classes           length_classes num_bootstraps</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      205259                 FALSE 509,656,1031,2287,103053              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num_processed num_mapped percent_mapped  call               start_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      49484736   28143781       56.87366 quant Mon Aug  6 16:21:05 2018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   end_time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Mon Aug  6 16:23:48 2018</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 /ddn/gs1/shared/fargod/reference_genomes/hg19/hg19gencode/gencode.v28lift37.annotation/gencode.v28lift37.transcripts_quasi-k31.idx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   threads libType useVBOpt seqBias gcBias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      60       A useVBOpt seqBias gcBias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                        mates1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 SW13_none_A-NS50728_1.sickle.sanger.cutadapt.fastq.gz,SW13_none_A-NS50729_1.sickle.sanger.cutadapt.fastq.gz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                        mates2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 SW13_none_A-NS50728_2.sickle.sanger.cutadapt.fastq.gz,SW13_none_A-NS50729_2.sickle.sanger.cutadapt.fastq.gz</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                output   auxDir</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 SW13_none_A-lA-vbo-seq-gc_salmonOut aux_info</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                                                           read_files</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 ( SW13_none_A-NS50728_1.sickle.sanger.cutadapt.fastq.gz, SW13_none_A-NS50728_2.sickle.sanger.cutadapt.fastq.gz ), ( SW13_none_A-NS50729_1.sickle.sanger.cutadapt.fastq.gz, SW13_none_A-NS50729_2.sickle.sanger.cutadapt.fastq.gz )</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   expected_format compatible_fragment_ratio num_compatible_fragments</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             ISR                         1                 28143781</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num_assigned_fragments num_frags_with_consistent_mappings</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1               28143781                           24661298</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num_frags_with_inconsistent_or_orphan_mappings MSF OSF ISF MSR OSR      ISR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                                        3482716   0   0 889   0   0 24661298</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        SF      SR MU OU IU U</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1707293 1774534  0  0  0 0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

