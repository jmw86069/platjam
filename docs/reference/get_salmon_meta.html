<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get Salmon metadata and aux info into a data.frame — get_salmon_meta • platjam</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get Salmon metadata and aux info into a data.frame — get_salmon_meta" />
<meta property="og:description" content="Get Salmon metadata and aux info into a data.frame" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">platjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.24.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jmw86069/platjam">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Salmon metadata and aux info into a data.frame</h1>
    <small class="dont-index">Source: <a href='https://github.com/jmw86069/platjam/blob/master/R/platjam-ngs.R'><code>R/platjam-ngs.R</code></a></small>
    <div class="hidden name"><code>get_salmon_meta.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get Salmon metadata and aux info into a data.frame</p>
    </div>

    <pre class="usage"><span class='fu'>get_salmon_meta</span>(<span class='no'>metafile</span>, <span class='kw'>exclude_hashes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>metafile</th>
      <td><p>character vector of one or more files, usually the
full file path to the <code>meta_info.json</code> file after running Salmon
quant. The path <code>metafile</code> should be the path to any output file
from one Salmon quant analysis.</p></td>
    </tr>
    <tr>
      <th>exclude_hashes</th>
      <td><p>logical indicating whether to drop columns that
contain file hashes.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments are ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>data.frame</code> whose number of rows is equal to the number
of unique Salmon root directories in the input <code>metafile</code>.
For any input <code>metafile</code> not found, the output is <code>NULL</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function takes a file path to one or more Salmon
output files, uses that path to locate the full set of
available files, loads data from each of the discovered
files, and returns the results in a <code>data.frame</code> format.</p>
<p>This function uses <code><a href='https://rdrr.io/pkg/rprojroot/man/find_root.html'>rprojroot::find_root()</a></code> to find the
root directory, defined as the directory that contains
the file <code>"cmd_info.json"</code>. The path to <code>"meta_info.json"</code>
is constructed relative to that location.</p>
<p>Recognized files:</p><ul>
<li><p><code>meta_info.json</code> - typically in a subdirectory <code>aux_info/meta_info.json</code></p></li>
<li><p><code>cmd_info.json</code> - typically in the same directory as the <code>aux_info</code>
directory.</p></li>
</ul>

<p>If a relative path to <code>"cmd_info.json"</code> cannot be determined, this
function returns <code>NULL</code>.</p>
<p>When the input <code>metafile</code> includes multiple files, only
the unique Salmon root directories are returned.</p>
<p>This function uses <code>jsonlite</code> to read each JSON file, which
is converted to a <code>data.frame</code>. Any JSON fields that contain
multiple values are comma-delimited using <code><a href='https://rdrr.io/pkg/jamba/man/cPaste.html'>jamba::cPaste()</a></code>
in order to fit on one row in the <code>data.frame</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other jam nextgen sequence functions: 
<code><a href='get_salmon_root.html'>get_salmon_root</a>()</code>,
<code><a href='save_salmon_qc_xlsx.html'>save_salmon_qc_xlsx</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>cmdinfopath</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"data"</span>, <span class='st'>"salmonOut"</span>, <span class='st'>"cmd_info.json"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"platjam"</span>);
<span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span>(<span class='no'>cmdinfopath</span>) <span class='kw'>&gt;</span> <span class='fl'>0</span>) {
   <span class='fu'>get_salmon_meta</span>(<span class='no'>cmdinfopath</span>);
}</div><div class='output co'>#&gt;   salmon_version samp_type opt_type num_libraries library_types
#&gt; 1         0.11.2      none       vb             1           ISR
#&gt;   frag_dist_length seq_bias_correct gc_bias_correct num_bias_bins mapping_type
#&gt; 1             1001             TRUE            TRUE          4096      mapping
#&gt;   num_targets serialized_eq_classes           length_classes num_bootstraps
#&gt; 1      205259                 FALSE 509,656,1031,2287,103053              0
#&gt;   num_processed num_mapped percent_mapped  call               start_time
#&gt; 1      49484736   28143781       56.87366 quant Mon Aug  6 16:21:05 2018
#&gt;                   end_time
#&gt; 1 Mon Aug  6 16:23:48 2018
#&gt;                                                                                                                                index
#&gt; 1 /ddn/gs1/shared/fargod/reference_genomes/hg19/hg19gencode/gencode.v28lift37.annotation/gencode.v28lift37.transcripts_quasi-k31.idx
#&gt;   threads libType useVBOpt seqBias gcBias
#&gt; 1      60       A useVBOpt seqBias gcBias
#&gt;                                                                                                        mates1
#&gt; 1 SW13_none_A-NS50728_1.sickle.sanger.cutadapt.fastq.gz,SW13_none_A-NS50729_1.sickle.sanger.cutadapt.fastq.gz
#&gt;                                                                                                        mates2
#&gt; 1 SW13_none_A-NS50728_2.sickle.sanger.cutadapt.fastq.gz,SW13_none_A-NS50729_2.sickle.sanger.cutadapt.fastq.gz
#&gt;                                output   auxDir
#&gt; 1 SW13_none_A-lA-vbo-seq-gc_salmonOut aux_info
#&gt;                                                                                                                                                                                                                           read_files
#&gt; 1 ( SW13_none_A-NS50728_1.sickle.sanger.cutadapt.fastq.gz, SW13_none_A-NS50728_2.sickle.sanger.cutadapt.fastq.gz ), ( SW13_none_A-NS50729_1.sickle.sanger.cutadapt.fastq.gz, SW13_none_A-NS50729_2.sickle.sanger.cutadapt.fastq.gz )
#&gt;   expected_format compatible_fragment_ratio num_compatible_fragments
#&gt; 1             ISR                         1                 28143781
#&gt;   num_assigned_fragments num_frags_with_consistent_mappings
#&gt; 1               28143781                           24661298
#&gt;   num_frags_with_inconsistent_or_orphan_mappings MSF OSF ISF MSR OSR      ISR
#&gt; 1                                        3482716   0   0 889   0   0 24661298
#&gt;        SF      SR MU OU IU U
#&gt; 1 1707293 1774534  0  0  0 0</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


