<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>TODO for platjam • platjam</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="TODO for platjam"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">platjam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.39.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/jmw86069/platjam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>TODO for platjam</h1>
    </div>


<div id="todo-for-platjam" class="section level1">

<div class="section level2">
<h2 id="nmatlist2heatmaps"><code>nmatlist2heatmaps()</code><a class="anchor" aria-label="anchor" href="#nmatlist2heatmaps"></a></h2>
<ul><li>when <code>transform</code> is used, alter the y-axis numeric labels, and color legend numeric labels accordingly.</li>
<li>Optionally draw y-axis horizontal abline at y=0 when data contains positive/negative values.</li>
</ul></div>
<div class="section level2">
<h2 id="ucsc-track-hub">UCSC track hub<a class="anchor" aria-label="anchor" href="#ucsc-track-hub"></a></h2>
<ul><li>
<p>Add example for <code><a href="reference/parse_ucsc_gokey.html">parse_ucsc_gokey()</a></code> showing three kinds of tracks as input</p>
<ol style="list-style-type: decimal"><li>bigWig with pos/neg or F/R or some track grouping -&gt; multiWig overlay</li>
<li>bigWig without grouping -&gt; composite tracks</li>
<li>bigBed -&gt; composite Tracks</li>
</ol></li>
<li>
<p>COMPLETE:new arguments for bigBed tracks</p>
<ul><li>scoreFilter=0, scoreFilterLimits=“0:1000”</li>
<li>minGrayLevel=4</li>
<li>spectrum=“off”, scoreMin=0, scoreMax=1000</li>
</ul></li>
</ul></div>
</div>
<div class="section level1">
<h1 id="todo-for-platjam-28aug2020">TODO for platjam 28aug2020<a class="anchor" aria-label="anchor" href="#todo-for-platjam-28aug2020"></a></h1>
<div class="section level2">
<h2 id="specific-usability">Specific usability<a class="anchor" aria-label="anchor" href="#specific-usability"></a></h2>
<ul><li>
<p>For <code>panel_groups</code>:</p>
<ul><li>COMPLETE: when all heatmaps in a set of panels share the same color gradient, the color legend should be displayed once per group, and should be labeled using the <code>panel_groups</code> value.</li>
<li>make the <code>ht_gap</code> between adjacent heatmaps in the same group smaller</li>
<li>COMPLETE: hide y-axis labels on the profile plot for all but the last panel in an adjacent set. For example using <code>EnrichedHeatmap::anno_enriched(... yaxis=FALSE)</code>
</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="visual-enhancements">Visual enhancements<a class="anchor" aria-label="anchor" href="#visual-enhancements"></a></h2>
<ul><li>
<code>anno_df</code> should probably use <code>Heatmap()</code> and not <code>HeatmapAnnotation()</code> so that it can enable <code>use_raster=TRUE</code>.</li>
<li>Color legend for the profile plot should use lines instead of boxes to indicate colors (if possible).</li>
</ul></div>
<div class="section level2">
<h2 id="big-picture---make-it-easy-to-use">Big picture - make it easy to use<a class="anchor" aria-label="anchor" href="#big-picture---make-it-easy-to-use"></a></h2>
<p>Make coverage heatmaps easier for other scientists.</p>
<ul><li>
<p>tab-delimited table input with the following columns:</p>
<ul><li>coverage matrix file path - full path to coverage file</li>
<li>name - name associated to the coverage matrix file, used below</li>
<li>display - logical indicating whether to display this coverage matrix; TRUE, 1 means “yes”; FALSE, 0 means “no”. When “no”, the coverage may still be usable in difference matrix calculations.</li>
<li>label - need some way to specify line breaks, without using line breaks.</li>
<li>xaxis_names - three comma-delimited values, or <code>NA</code>, for example: <code>-250kb,center,+250kb</code>
</li>
<li>group - used for <code>panel_groups</code>
</li>
<li>signal_ceiling</li>
<li>ylim</li>
<li>color_gradient - string that matches jam_linear, jam_divergent, viridis, RColorBrewer, or a comma-delimited series of hex colors</li>
<li>control_name - optional name of a control coverage file to be used to create a difference matrix</li>
</ul></li>
<li><p>tab-delimited anno_df file whose first column values should match rownames in each coverage matrix file.</p></li>
</ul><p>Make jam color gradients available:</p>
<ul><li>
<code>jam_linear</code> - color blind friendly linear gradients from white to color</li>
<li>
<code>jam_divergent</code> - color blind friendly divergent gradients with black as the central color</li>
<li>The gradients above are designed so that the divergent start or end color matches the color name of linear gradients. The intent is to use linear gradients to represent straight coverage, and divergent gradients for coverage differences.</li>
</ul><p>Make it possible to define coverage differences</p>
<ul><li>Probably use some format in the tab-delimited file above.</li>
</ul></div>
<div class="section level2">
<h2 id="k-means-and-partitioning-correct-the-order">k-means and partitioning, correct the order<a class="anchor" aria-label="anchor" href="#k-means-and-partitioning-correct-the-order"></a></h2>
<p>Currently k-means clustering and partitioning works together, but the k-means is performed on everything, then clusters are divided by partition.</p>
<p>The effect when partitioning by “up” and “down” is that some k-means clusters are dominated by the “up” and “down” such that cluster 1 has 95% members from “up”, very few from down. For k=4, it ends up making 8 clusters, which are mostly just 4 proper clusters, and 4 junk clusters (the “up” cluster with few “down” members).</p>
<p>Would be better to k-means within each partition, to make proper subclusters for each partition.</p>
</div>
</div>
<div class="section level1">
<h1 id="todo-for-platjam-22may2020">TODO for platjam 22may2020<a class="anchor" aria-label="anchor" href="#todo-for-platjam-22may2020"></a></h1>
<div class="section level2">
<h2 id="dynamic-ylims-done">Dynamic ylims (DONE)<a class="anchor" aria-label="anchor" href="#dynamic-ylims-done"></a></h2>
<ul><li>The detected ylim range should include the additional range when show_error=TRUE. This change involves calculating the error bars during the ylim calculations, not too computationally intensive, but it must replicate the method used by EnrichedHeatmap.</li>
</ul></div>
<div class="section level2">
<h2 id="custom-color-substition-colorsub-done">Custom color substition (colorSub) (DONE)<a class="anchor" aria-label="anchor" href="#custom-color-substition-colorsub-done"></a></h2>
<ul><li>
<code><a href="reference/nmatlist2heatmaps.html">nmatlist2heatmaps()</a></code> should allow optional <code>colorSub</code> argument as a named vector of colors. Any categorical column all of whose values match <code>names(colorSub)</code> will use colors in <code>colorSub</code> instead of generating its own new categorical colors. This option will help allow colors to be consistent.</li>
</ul></div>
<div class="section level2">
<h2 id="allow-both-partition-and-kmeans-clustering-done">Allow both partition and kmeans clustering (DONE)<a class="anchor" aria-label="anchor" href="#allow-both-partition-and-kmeans-clustering-done"></a></h2>
<ul><li>Currently kmeans clustering overrides partition, but we want the option to cluster and partition.</li>
</ul></div>
<div class="section level2">
<h2 id="genome-coverage-matrix-methods-done">Genome coverage matrix methods (DONE)<a class="anchor" aria-label="anchor" href="#genome-coverage-matrix-methods-done"></a></h2>
<ul><li>
<code><a href="reference/nmatlist2heatmaps.html">nmatlist2heatmaps()</a></code> argument for <code>data.frame</code> of annotations, used to display alongside heatmaps, and/or used to sort the heatmap rows. For example one column could contain <code>"log2foldchange"</code>, or a categorical variable.</li>
<li>add a new file importer for deepTools coverage matrix files. Allow for multiple samples to be present in the same file, then create one <code>normalizedMatrix</code> for each sample with consistent rownames and colnames.</li>
</ul></div>
<div class="section level2">
<h2 id="genome-coverage-profile-methods">Genome coverage profile methods<a class="anchor" aria-label="anchor" href="#genome-coverage-profile-methods"></a></h2>
<ul><li>Similar to <code><a href="reference/nmatlist2heatmaps.html">nmatlist2heatmaps()</a></code> except that it focuses on just the profile plots, including optional error bars and statistical testing by position.</li>
</ul></div>
<div class="section level2">
<h2 id="custom-x-axis-range">Custom x-axis range<a class="anchor" aria-label="anchor" href="#custom-x-axis-range"></a></h2>
<ul><li>Ability to specify a custom subset range for the x-axis. Note that matrices in <code>nmatlist</code> are not required to share the same x-axis range, so this function would probably need to be applied to individual <code>normalizedMatrix</code> entries.</li>
</ul></div>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by James M. Ward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

